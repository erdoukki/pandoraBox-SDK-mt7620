# Use the default kernel version if the Makefile doesn't override it

LINUX_RELEASE?=1

LINUX_VERSION-3.4 = .110
LINUX_VERSION-3.10 = .102
LINUX_VERSION-3.14 = .79
LINUX_VERSION-3.18 = .43
LINUX_VERSION-4.1 = .34
LINUX_VERSION-4.4 = .30

LINUX_KERNEL_MD5SUM-3.4.100 = 3e58f5ca4b7e6533cfc6d35896c2fbf4
LINUX_KERNEL_MD5SUM-3.4.110 = 07db4f7ac0eaf629c7415334780161ec
LINUX_KERNEL_MD5SUM-3.10.49 = 9774e12764e740d49c80eda77d0ef3eb
LINUX_KERNEL_MD5SUM-3.10.59 = b34552f9d7d8cba8065765fb61103b6f
LINUX_KERNEL_MD5SUM-3.10.60 = c86bf8950c2b19337776e8ea3364d1b3
LINUX_KERNEL_MD5SUM-3.10.62 = c1327e754279aa4cd2f64507aa84487f
LINUX_KERNEL_MD5SUM-3.10.64 = 1c0c682d7776ffad05bf799a1e88320d
LINUX_KERNEL_MD5SUM-3.10.68 = d81f9d08e957589f8691eaa1d8ff9f86
LINUX_KERNEL_MD5SUM-3.10.70 = 2c014d383bea74e3f4325255250595c2
LINUX_KERNEL_MD5SUM-3.10.89 = 4c1c9ca967fd3cf54e41e3a2f97a869e
LINUX_KERNEL_MD5SUM-3.10.90 = 1b76afed23b62dd666150abc81b339b1
LINUX_KERNEL_MD5SUM-3.10.94 = ba7a1dec15485caf9881f36335d1b68b
LINUX_KERNEL_MD5SUM-3.10.96 = f22db9237548ba36404e24c2d8af6f70
LINUX_KERNEL_MD5SUM-3.10.98 = bd002cc227d6d7d519175421ad5b7b25
LINUX_KERNEL_MD5SUM-3.10.100 = 1b43c4541ab585cdbf3a6e744723dbca
LINUX_KERNEL_MD5SUM-3.10.102 = 7bbfe07d69918f98136cef581e889778
LINUX_KERNEL_MD5SUM-3.14.32 = 3178fb8f6f1eafcffdd730fec68754f8
LINUX_KERNEL_MD5SUM-3.14.34 = 4061154fb66b24a8a1982a8adbe94335
LINUX_KERNEL_MD5SUM-3.14.36 = 15e8df76375803c65c5c90ca06426e96
LINUX_KERNEL_MD5SUM-3.14.38 = c4d0154627e02dc43c67fa616ff1e569
LINUX_KERNEL_MD5SUM-3.14.40 = 8a66901cdcce5b2650672af41ad4a9fd
LINUX_KERNEL_MD5SUM-3.14.42 = 364bff2b18800b5e9c9625be46aff4b8
LINUX_KERNEL_MD5SUM-3.14.44 = 7c4429f36e1900e45c8d486894ac17ce
LINUX_KERNEL_MD5SUM-3.14.48 = c997474befa778ad5be5fc810e807e0a
LINUX_KERNEL_MD5SUM-3.14.49 = efc67fdc3ddc5123d644d7eb730491dd
LINUX_KERNEL_MD5SUM-3.14.51 = 7a7f5728e5dac81c03754972656c5f48
LINUX_KERNEL_MD5SUM-3.14.52 = 2baa22859df790f432889e7a433bf0d7
LINUX_KERNEL_MD5SUM-3.14.56 = 32010dbb68e50b994bcf845635b616d5
LINUX_KERNEL_MD5SUM-3.14.69 = 05cb40ca13cb1b228ea42a52756deaf5
LINUX_KERNEL_MD5SUM-3.14.70 = 774bc3fd67b7491c5890a970e827826a
LINUX_KERNEL_MD5SUM-3.14.72 = 29fc474fa0c4df03ca1aa85e353844ab
LINUX_KERNEL_MD5SUM-3.14.74 = f83028755dc380862a91fe75e64b01aa
LINUX_KERNEL_MD5SUM-3.14.76 = 1624610ba8a7b83e8be73cee58a5ca5b
LINUX_KERNEL_MD5SUM-3.14.79 = ec5b09d8ad2ebf92e6f51a727a338559
LINUX_KERNEL_MD5SUM-3.18.7  = b4ff3e1d591f7464e678c43d421c85fc
LINUX_KERNEL_MD5SUM-3.18.43 = b1faeb4a2e1e70ffe061bdbb3452840a
LINUX_KERNEL_MD5SUM-4.1.34 = fba99f0f4765ebf01033e69518740a3c
LINUX_KERNEL_MD5SUM-4.4.30 = 9d249133bd12dde04f434bb4a5a4a23dd42ead721803c0ba4b5742efd239995c

ifdef KERNEL_PATCHVER
  LINUX_VERSION:=$(KERNEL_PATCHVER)$(strip $(LINUX_VERSION-$(KERNEL_PATCHVER)))
endif

split_version=$(subst ., ,$(1))
merge_version=$(subst $(space),.,$(1))
KERNEL_BASE=$(firstword $(subst -, ,$(LINUX_VERSION)))
KERNEL=$(call merge_version,$(wordlist 1,2,$(call split_version,$(KERNEL_BASE))))
KERNEL_PATCHVER ?= $(KERNEL)

# disable the md5sum check for unknown kernel versions
LINUX_KERNEL_MD5SUM:=$(LINUX_KERNEL_MD5SUM-$(strip $(LINUX_VERSION)))
LINUX_KERNEL_MD5SUM?=x
